<%- include("partials/header.ejs") %>
<%- include("partials/navbar.ejs") %>
<!-- contains css grid container start -->
<%- include("partials/settings-bar.ejs") %>
<!-- css grid container for settings content start -->
<%- include("partials/settings-content-grid-start.ejs") %>


<!-- begin content -->
<!-- bootstrap fixed width container for content -->
<div class="container-lg mt-5">     
    <h1 class="settings-title">Users</h1>
    <table class="table">
        <thead>
            <tr>
              <th scope="col">Username</th>
              <th scope="col">Role</th>
              <th scope="col">First Name</th>
              <th scope="col">Last Name</th>
              <th scope="col">Email</th>
              <th scope="col"></th>
              <th scope="col"></th>
            </tr>
          </thead>
        <tbody>
          <!-- The Loop Starts Here -->  
          <% users.forEach((user) => { %>
          <tr>
            <td><%= user.username %></td>
            <td><%= user.role %></td>
            <td><%= user.firstname %></td>
            <td><%= user.lastname %></td>
            <td><%= user.email %></td>
            <td>
            <a href="/users/<%=user._id%>/profile" class="btn btn-outline-primary">Profile</a>
            </td>
            <td>
              <form action="/users/<%= user._id %>?_method=DELETE" method="POST">
              <button type="submit" class="btn btn-outline-danger">Delete</button>
              </form>
            </td>
          </tr>
           <!-- The Loop Ends Here -->
          <% }); %>
        </tbody>
      </table>
</div>

<!-- css grid container for settings content end -->
<%- include("partials/settings-content-grid-end.ejs") %>
<!-- settings grid container end must go at end of settings content templates! -->  
<%- include("partials/settings-grid-container-end.ejs") %>
<%- include("partials/footer.ejs") %>